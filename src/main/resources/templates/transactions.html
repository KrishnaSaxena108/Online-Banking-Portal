<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Transactions - Online Banking</title>
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <header class="navbar">
        <h1>Online Banking Portal</h1>
        <nav>
            <a href="/">Home</a>
            <a href="/accounts/ui">Accounts</a>
        </nav>
    </header>

    <div class="container">
        <div class="card">
            <h2>Add New Transaction</h2>

            <!-- Success/Error messages -->
            <p th:if="${success}" th:text="${success}" class="success-msg"></p>
            <p th:if="${error}" th:text="${error}" class="error-msg"></p>

            <!-- Transaction Form -->
            <form th:action="@{/transactions/ui}" method="post">
                <label for="accountId">Account ID:</label>
                <input type="number" name="accountId" required>
                
                <label for="type">Type:</label>
                <select name="type" required>
                    <option value="DEPOSIT">Deposit</option>
                    <option value="WITHDRAW">Withdraw</option>
                </select>

                <label for="amount">Amount:</label>
                <input type="number" step="0.01" name="amount" required>

                <button type="submit">Submit Transaction</button>
            </form>
        </div>

        <div class="card">
            <h2>Transaction History</h2>
            <table class="table">
                <tr>
                    <th>ID</th>
                    <th>Type</th>
                    <th>Amount</th>
                    <th>Timestamp</th>
                    <th>Account ID</th>
                </tr>
                <tr th:each="txn : ${transactions}">
                    <td th:text="${txn.id}"></td>
                    <td th:text="${txn.type}"></td>
                    <td th:text="${txn.amount}"></td>
                    <td th:text="${txn.timestamp}"></td>
                    <td th:text="${txn.account.id}"></td>
                </tr>
            </table>
        </div>
    </div>

    <footer class="footer">
        &copy; 2025 Online Banking Portal
    </footer>
</body>

</html>